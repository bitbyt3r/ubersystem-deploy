---
classes:
        - uber_server
        - software
        - software::munin
        - nginx
uber_instances: 
        anthrocon:
                uber_path:      '/usr/local/anthrocon'
                organization_name: 'Anthrocon'
                sideboard_repo:       'https://github.com/magfest/sideboard'
                sideboard_branch:     'master'
# each of these repos will be cloned and put in %uber_path%/plugins/%name%
                sideboard_plugins:
                    uber:
                           git_repo: 'https://github.com/magfest/ubersystem'
                           git_branch: 'ac-staging'
                    anthrocon_plugin:
                           git_repo: 'https://github.com/Anthrocon-Reg/anthrocon_plugin'
                           git_branch: 'master'
                socket_port:    '4304'
                url_prefix:     'anthrocon'
                uber_user:      'uber'
                hostname:       '%{hostname}'
                event_name:     'Anthrocon'
                year: 2015
                dev_box: 'True'
                send_emails: 'False'
                prereg_open: '2014-08-06'
                hostname: 'vagrant-ubuntu-trusty-32'
                collect_exact_birthdate: 'True'
                collect_full_address: 'True'
                groups_enabled: 'False'
                prereg_open:  '2014-09-30'
                stripe_public_key: 'pk_test_sPIOYrr26T7YeSJ8lUGKYwpS'
                stripe_secret_key: 'sk_test_aZUo9nidH2Pun2CQ4Bp0nFzU'
                donation_tier:
                  - "'No thanks'                      = 0"
                  - "'Ribbon'                         = 5"
                  - "'Button'                         = 10"
                  - "'Tshirt'                         = SHIRT_LEVEL"
                  - "'Supporter Package'              = SUPPORTER_LEVEL"
                  - "'MAGFest USB Drive'              = 100"
                  - "'Season Supporter Pass for 2015' = SEASON_LEVEL"
                  - "'MPoint Holder'                  = 200"
                  - "'Lightsuit'                      = 500"
                ribbon_types:
                  - 'press_ribbon       = "Camera"'
                  - 'band_ribbon        = "Rock Star"'
                  - 'dealer_ribbon      = "Dealer"'
                  - 'dealer_asst_ribbon = "Dealer Assistant"'
                  - 'bod_ribbon         = "Board of Directors"'
                job_listings:
                  - 'arcade            = "Arcade"'
                  - 'artemis           = "Artemis"'
                  - 'challenges        = "Challenges"'
                  - 'charity           = "Charity"'
                  - 'chipspace         = "Chipspace"'
                  - 'concert           = "Concert"'
                  - 'console           = "Consoles"'
                  - 'contractors       = "Contractors"'
                  - 'con_ops           = "Fest Ops"'
                  - 'dispatch          = "Dispatch"'
                  - 'dorsai            = "Dorsai"'
                  - 'panels            = "Events"'
                  - 'food_prep         = "Food Prep"'
                  - 'film_fest         = "Games on Film"'
                  - 'indie_games       = "Indie Games"'
                  - 'jamspace          = "Jam Space"'
                  - 'lan               = "LAN"'
                  - 'larp              = "LARP"'
                  - 'loadin            = "Load-In"'
                  - 'marketplace       = "Marketplace"'
                  - 'merch             = "Merchandise"'
                  - 'mops              = "MEDIATRON!"'
                  - 'regdesk           = "Regdesk"'
                  - 'reg_managers      = "Reg Managers"'
                  - 'rescuers          = "Rescuers"'
                  - 'security          = "Security"'
                  - 'shedspace         = "Shedspace"'
                  - 'staff_support     = "Staff Support"'
                  - 'starship_horizons = "Starship Horizons"'
                  - 'stops             = "Staffing Ops"'
                  - 'tabletop          = "Tabletop"'
                  - 'treasury          = "Treasury"'
                  - 'ccg_tabletop      = "Tabletop (CCG)"'
                  - 'tech_ops          = "Tech Ops"'
nginx::nginx_vhosts:
        '%{hostname}':
                listen_options: 'default'
                www_root: '/var/www'
                rewrite_to_https: true
                ssl: true
                ssl_cert: 'puppet:///modules/uber/selfsigned-testonly.crt'
                ssl_key: 'puppet:///modules/uber/selfsigned-testonly.key'
                location_cfg_append:
                        rewrite: '/ /anthrocon/ permanent'
        'localhost':
                listen_ip: '127.0.0.1'
                www_root: '/var/www'
                location_cfg_append:
                        rewrite: '/ https://%{hostname}/anthrocon/ permanent'
nginx::nginx_locations:
        'munin':
                vhost: 'localhost' 
                location: '/munin/'
                location_alias: '/var/cache/munin/www/'
                auth_basic: 'Restricted'
                auth_basic_user_file: '/etc/munin/munin-htpasswd'
        'nginx_status':
                vhost: 'localhost'
                location: '/nginx_status'
                stub_status: true
                location_allow:
                        - '127.0.0.1'
                location_deny:
                        - 'all'
